# éƒ¨ç½²æŒ‡å—

## å‰ç½®è¦æ±‚

- GitHub è´¦æˆ·
- åŸºæœ¬çš„ Git çŸ¥è¯†

## ğŸ“‹ éƒ¨ç½²æ­¥éª¤

### 1ï¸âƒ£ å‡†å¤‡ GitHub ä»“åº“

#### æ–¹æ¡ˆ Aï¼šä½¿ç”¨ç°æœ‰ä»“åº“
```bash
# è¿›å…¥ä½ çš„ä»“åº“ç›®å½•
cd /path/to/your/bing-repo

# æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add -A

# æäº¤åˆå§‹ä»£ç 
git commit -m "Initial commit: Bing wallpaper spider setup"

# æ¨é€åˆ° GitHub
git push -u origin main
```

#### æ–¹æ¡ˆ Bï¼šåˆ›å»ºæ–°ä»“åº“
1. è®¿é—® https://github.com/new
2. åˆ›å»ºæ–°ä»“åº“ `bing` æˆ–å…¶ä»–åç§°
3. å…‹éš†åˆ°æœ¬åœ°ï¼š
```bash
git clone https://github.com/yourusername/bing.git
cd bing
```
4. å¤åˆ¶é¡¹ç›®æ–‡ä»¶åˆ°è¯¥ç›®å½•
5. æäº¤å¹¶æ¨é€ï¼š
```bash
git add -A
git commit -m "Initial commit"
git push origin main
```

---

### 2ï¸âƒ£ å¯ç”¨ GitHub Actions

1. è¿›å…¥ä»“åº“é¡µé¢
2. ç‚¹å‡» **Actions** æ ‡ç­¾
3. GitHub Actions ä¼šè‡ªåŠ¨è¯†åˆ«å·¥ä½œæµæ–‡ä»¶ `.github/workflows/daily-fetch.yml`
4. ç‚¹å‡» **Enable** å¯ç”¨ Actions

### 3ï¸âƒ£ é…ç½® GitHub Pages

1. è¿›å…¥ä»“åº“ **Settings**
2. å·¦ä¾§èœå•æ‰¾åˆ° **Pages**
3. åœ¨ **Build and deployment** éƒ¨åˆ†ï¼š
   - **Source** é€‰æ‹© "Deploy from a branch"
   - **Branch** é€‰æ‹© "gh-pages" åˆ†æ”¯
   - **æ–‡ä»¶å¤¹** é€‰æ‹© "/ (root)"
4. ç‚¹å‡» **Save**

ç­‰å¾…å‡ ç§’é’Ÿï¼ŒGitHub ä¼šæ˜¾ç¤ºé¡µé¢çš„è®¿é—®åœ°å€ï¼š
```
https://yourusername.github.io
```

### 4ï¸âƒ£ æ‰‹åŠ¨è¿è¡Œç¬¬ä¸€æ¬¡å·¥ä½œæµï¼ˆå¯é€‰ï¼‰

1. è¿›å…¥ **Actions** æ ‡ç­¾
2. å·¦ä¾§é€‰æ‹© **Daily Fetch Bing Wallpaper**
3. ç‚¹å‡» **Run workflow**
4. ç­‰å¾…å·¥ä½œæµå®Œæˆ

éªŒè¯ï¼š
- æŸ¥çœ‹å·¥ä½œæµè¿è¡Œæ—¥å¿—
- æ£€æŸ¥ `data/latest.json` æ˜¯å¦æ›´æ–°
- è®¿é—® https://yourusername.github.io æŸ¥çœ‹é¡µé¢

---

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹è¿è¡Œæ—¶é—´

ç¼–è¾‘ `.github/workflows/daily-fetch.yml`ï¼š

```yaml
schedule:
  - cron: '0 0 * * *'
```

Cron æ—¶é—´è¡¨ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ† (0 - 59)
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ—¶ (0 - 23)
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ—¥ (1 - 31)
â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æœˆ (1 - 12)
â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å‘¨ (0 - 6ï¼Œå‘¨æ—¥ä¸º 0)
â”‚ â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ â”‚
* * * * *
```

**å¸¸è§ç¤ºä¾‹ï¼š**
- `0 0 * * *` - æ¯å¤© 00:00 UTC (åŒ—äº¬æ—¶é—´ 08:00)
- `0 8 * * *` - æ¯å¤© 08:00 UTC (åŒ—äº¬æ—¶é—´ 16:00)
- `0 */6 * * *` - æ¯ 6 å°æ—¶è¿è¡Œä¸€æ¬¡
- `30 12 * * 1` - æ¯å‘¨ä¸€ 12:30 UTC è¿è¡Œ

### ä¿®æ”¹åœ°åŒº/è¯­è¨€

ç¼–è¾‘ `scripts/fetch-wallpaper.js`ï¼š

```javascript
const LANG_MKT = 'zh-CN';  // æ”¹ä¸ºå…¶ä»–åœ°åŒºä»£ç 
```

**æ”¯æŒçš„åœ°åŒºä»£ç ï¼š**
| åœ°åŒº | ä»£ç  |
|------|------|
| ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰ | zh-CN |
| ä¸­æ–‡ï¼ˆç¹ä½“ï¼‰ | zh-TW |
| è‹±æ–‡ï¼ˆç¾å›½ï¼‰ | en-US |
| è‹±æ–‡ï¼ˆè‹±å›½ï¼‰ | en-GB |
| æ—¥æ–‡ | ja-JP |
| éŸ©æ–‡ | ko-KR |
| æ³•æ–‡ | fr-FR |
| å¾·æ–‡ | de-DE |
| ä¿„æ–‡ | ru-RU |

### è‡ªå®šä¹‰é¡µé¢æ ·å¼

ç¼–è¾‘ `scripts/fetch-wallpaper.js` ä¸­çš„ `generateHTML()` å‡½æ•°ï¼Œä¿®æ”¹ CSS æ ·å¼ã€‚

---

## ğŸ“Š æŸ¥çœ‹æ•°æ®

### æŸ¥çœ‹æœ€æ–°å£çº¸ä¿¡æ¯
```
https://yourusername.github.io/api/latest.json
```

### æŸ¥çœ‹æ‰€æœ‰å†å²å£çº¸
```
https://yourusername.github.io/api/all.json
```

### æœ¬åœ°æµ‹è¯•
```bash
npm install
npm run fetch
```

---

## âŒ æ•…éšœæ’é™¤

### é—®é¢˜ 1ï¼šActions æœªè‡ªåŠ¨è¿è¡Œ

**åŸå› ï¼š** GitHub Actions é»˜è®¤ç¦ç”¨

**è§£å†³æ–¹æ¡ˆï¼š**
1. è¿›å…¥ Settings > Actions
2. é€‰æ‹© "All actions and reusable workflows"
3. ç‚¹å‡» Save

### é—®é¢˜ 2ï¼šgh-pages åˆ†æ”¯ä¸å­˜åœ¨

**åŸå› ï¼š** é¦–æ¬¡è¿è¡Œ GitHub Pages éƒ¨ç½²åæ‰ä¼šåˆ›å»º

**è§£å†³æ–¹æ¡ˆï¼š**
- ç­‰å¾…ç¬¬ä¸€æ¬¡ Actions å®Œæˆï¼ˆä¼šè‡ªåŠ¨åˆ›å»ºåˆ†æ”¯ï¼‰
- æˆ–æ‰‹åŠ¨åˆ›å»ºåˆ†æ”¯

### é—®é¢˜ 3ï¼šPages éƒ¨ç½²å¤±è´¥

**æ£€æŸ¥æ¸…å•ï¼š**
- [ ] ä»“åº“æ˜¯å¦ä¸º publicï¼ˆprivate éœ€è¦ä»˜è´¹ï¼‰
- [ ] æ˜¯å¦é€‰æ‹©äº†æ­£ç¡®çš„ gh-pages åˆ†æ”¯
- [ ] å·¥ä½œæµæ˜¯å¦æˆåŠŸå®Œæˆ
- [ ] æ£€æŸ¥ Actions æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯

### é—®é¢˜ 4ï¼šAPI è¿”å› 404

**åŸå› ï¼š** Pages è¿˜æœªéƒ¨ç½²å®Œæˆ

**è§£å†³æ–¹æ¡ˆï¼š**
- ç­‰å¾… 5-10 åˆ†é’Ÿ
- åˆ·æ–°æµè§ˆå™¨ç¼“å­˜
- æ£€æŸ¥ Settings > Pages ä¸­çš„çŠ¶æ€

---

## ğŸš€ è¿›é˜¶åŠŸèƒ½

### è‡ªå®šä¹‰é€šçŸ¥

å¯ä»¥ä¿®æ”¹ `scripts/fetch-wallpaper.js` æ·»åŠ ï¼š
- Email é€šçŸ¥
- é’‰é’‰/ä¼ä¸šå¾®ä¿¡æœºå™¨äºº
- Slack é€šçŸ¥

### ä¸Šä¼ åˆ°å›¾åºŠ

ä¿®æ”¹è„šæœ¬ä¸Šä¼ åˆ°ï¼š
- ä¸ƒç‰›äº‘ (im-zhou åŸé¡¹ç›®ä½¿ç”¨)
- é˜¿é‡Œ OSS
- è…¾è®¯ COS
- åˆæ‹äº‘

### æ•°æ®åº“å­˜å‚¨

å°† `data/history.json` æ”¹ä¸ºï¼š
- MongoDB
- MySQL
- PostgreSQL

---

## ğŸ“š æ›´å¤šèµ„æº

- [GitHub Actions æ–‡æ¡£](https://docs.github.com/cn/actions)
- [GitHub Pages æ–‡æ¡£](https://docs.github.com/cn/pages)
- [Cron åœ¨çº¿ç”Ÿæˆå™¨](https://crontab.guru/)
- [åŸé¡¹ç›® im-zhou/bing](https://github.com/im-zhou/bing)

---

## ğŸ’¡ æˆåŠŸæç¤º

éƒ¨ç½²æˆåŠŸçš„æ ‡å¿—ï¼š
- âœ… GitHub Pages ç½‘ç«™å¯è®¿é—®
- âœ… API æ¥å£è¿”å› JSON æ•°æ®
- âœ… Actions æ¯å¤©è‡ªåŠ¨è¿è¡Œ
- âœ… data/ ç›®å½•æœ‰å£çº¸æ•°æ®
- âœ… public/ ç›®å½•æœ‰ç”Ÿæˆçš„ HTML å’Œå›¾ç‰‡

ç¥éƒ¨ç½²é¡ºåˆ©ï¼ğŸ‰
